<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Practicalmachinelearning finalproject by bryanpeele</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Practical Machine Learning: Final Project</h1>
      <h2 class="project-tagline">Using random forests to classify excercise quality from accelerometer data</h2>
      <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject" class="btn">View on GitHub</a>
      <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary.</h3>

<p>This project was completed as the final project for the <a href="https://www.coursera.org/learn/practical-machine-learning/">Practical Machine Learning Class</a> offered by faculty at Johns Hopkins and hosted by Coursera. This project uses <a href="http://groupware.les.inf.puc-rio.br/har"> accelerometer data </a> from six participants to try to determine how well they are performing barbell lifts. Four separate accelerometers (mounted to the belt, forearm, arm and dumbell of each participant) collect data as each participant peforms the exercise correctly (classified as A) and incorrectly in four different ways (classified as B-E). This labeled training data is used to fit a model that can predict the quality of future exercises. Based on the accuracy of the validation set (20% of the available data) described below, the expected out of sample error is <1%. Default values for cross-validation within the random forest package are used.</p>

<h3>
<a id="methods" class="anchor" href="#methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Methods</h3>

<p>All models for this project were developed in R using the random forest method of the <a href="http://topepo.github.io/caret/index.html"> caret package. </a> The bulk of this analysis is performed in <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/blob/master/finalProjectMain.R">finalProjectMain.R</a> with calls to <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/blob/master/plotAccuraciesTime.R">plotAccuraciesTime.R</a> and <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/blob/master/plotConfusion.R">plotConfusion.R</a> for generating plots. The random forest method was chosen due to its high accuracy and ability to handle a large number of features. A random forest is created for each individual, as well as for the entire group.  Before training any models, 20% of the data is set aside for a validation set. Varying portions (20%, 40%...100%) of the remaining data are then used to train random forests.</p>

<p> In addition to separating the data into training and validation sets, columns with missing values are also removed from the data, leaving 52 numerical features with which to train. The final models each use 500 trees and have expoted summaries that can be viewed <a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject/tree/master/models">here. </a>The accuracy on the validation set, and the training time, are examined as more data from the training set is used for the model. Finally, using the the entirety of the training data (80% of the full dataset) is used and confusion matrices are plotted for each user. An overall accuracy of 99% is achieved for the validation set.</p>

<h3>
<a id="how-much-data-to-use" class="anchor" href="#how-much-data-to-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Validation Accuracy vs. Training Data Fraction</h3>

<p>As shown in Figure 1, the accuracy on the validation set increases as more of the training data is sued to fit the model. However, even with only 20% of the data the cummulative model achieves 96.6% accuracy. Using all of the available data, this accuracy increases to 99.2%</p>

<figure>
  <img src=https://raw.githubusercontent.com/bryanpeele/PracticalMachineLearning_FinalProject/master/figures/ValidationAccuracy.png alt="ValidationAccuracy" width="480" height="480">
</figure>
<h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fig 1: Validation Accurcy</h5>

<p>This 2.6% increase in accuracy comes at the cost of significantly more computing time (259 minutes rather than 31 minutes). It should be noted that these times only serve as rough estimates.  All analysis was performed on the same desktop computer (Processor: AMD FX-4100 Quad-Core 3.60 GHz, RAM: 8GB, OS: Windows 10), but other work was performed on the computer intermittently throughout the process. The time taken to train each model is shown in Figure 2.</p>

<figure>
  <img src=https://raw.githubusercontent.com/bryanpeele/PracticalMachineLearning_FinalProject/master/figures/ModelFitTime.png alt="ModelFitTime" width="480" height="480">
</figure>
<h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fig 2: Model Fit Time</h5>

<h3>
<a id="final-results" class="anchor" href="#final-results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Final Results</h3>

<p>Confusion matrices are shown in Figure 3 using random forest models fit to each individual user. On the vertical axis the actual classes from the labelled validation data are shown. On the horizontal axis, the correspondind frequency of predicted classes is shown.</p>

<figure>
  <img src=https://raw.githubusercontent.com/bryanpeele/PracticalMachineLearning_FinalProject/master/figures/IndividualConfusionMatrix.png alt="AllUserConfusionMatrix" width="600" height="900">
</figure>
<h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fig 3: Confusion matrices for each user</h5>

<p>Figure 4 shows the confusion matrix for the cummulative model trained collectively on all users at once. For all classes, the validation accuracy is greater than 98%.</p>


<figure>
  <img src=https://raw.githubusercontent.com/bryanpeele/PracticalMachineLearning_FinalProject/master/figures/all%20users%20combinedConfusionMatrix.png alt="AllUserConfusionMatrix" width="480" height="480">
</figure>
<h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fig 4: Confusion matrix for the cummulative model</h5>





<footer class="site-footer">
  <span class="site-footer-owner"><a href="https://github.com/bryanpeele/PracticalMachineLearning_FinalProject">Practicalmachinelearning finalproject</a> is maintained by <a href="https://github.com/bryanpeele">bryanpeele</a>.</span>

  <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
</footer>

    </section>

  
  </body>
</html>
